<!doctype html>

<html>

<head>
	<title>Структура DOM</title>
	<meta charset="utf-8">
	<script type="text/javascript">
		let newWnd
		const showDOM = () => {
			newWnd = window.open()
			newWnd.document.open()
			newWnd.document.write('<html><html lang="en"><head><title>DOM</title></head><body>')
			showChildNodes(document.documentElement, newWnd.document)
			newWnd.document.write('</body></html>')
			newWnd.document.close()
		}
		const showChildNodes = (node, doc) => {
			switch (node.nodeType) {
				case 3: // TEXT_NODE
					doc.write(node.nodeValue)
					break;
				case 1: // ELEMENT_NODE
					doc.write(`${node.nodeName}...`)
					for (let i = 0; i < node.childNodes.length; i++) {
						showChildNodes(node.childNodes[i], doc)
					}
					break;
				default: return
			}
		}

	</script>
</head>

<body>
	<h1>Структура DOM</h1>
	<div>
		<h2>Вывод структуры DOM</h2>
		<p>Этот код открывает новое окно и выводит в него структуру текущего документа</p>
	</div>
	<div>
		<h2>Запуск кода</h2>
		<p>Для запуска кода щелкните <a href="javascript:showDOM()">здесь</a></p>
	</div>

</body>

</html>